{"version":3,"file":"vue3-google-login.js","names":["e","t","i","o","u","f","b","n","l","c","r","a","d","p"],"sources":["../../vue3-google-login/dist/index.esm.js"],"sourcesContent":["import{reactive as e,watch as t,defineComponent as o,useSlots as i,ref as n,onMounted as l,openBlock as c,createElementBlock as r,unref as a,createCommentVNode as d,renderSlot as p}from\"vue\";var u=Object.freeze({__proto__:null});var s={library:\"https://accounts.google.com/gsi/client\",defaultButtonConfig:{theme:\"outline\",size:\"large\"},scopes:\"email profile openid\",ssrError:\"vue3-google-login cannot be executed on the server side. See here for more info https://devbaji.github.io/vue3-google-login/#no-ssr-support\"};const g=e({clientId:null,popupType:\"CODE\",prompt:!1,autoLogin:!1,idConfiguration:null,buttonConfig:s.defaultButtonConfig,callback:()=>{},error:null}),f=e({apiLoaded:!1,apiLoadIntitited:!1}),b=e=>{try{const t=e.split(\".\")[1].replace(/-/g,\"+\").replace(/_/g,\"/\"),o=decodeURIComponent(atob(t).split(\"\").map((function(e){return\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2)})).join(\"\"));return JSON.parse(o)}catch(e){throw\"JWT provided is invalid\"}},h=()=>new Promise(((e,t)=>{if(\"undefined\"!=typeof window){if(!f.apiLoadIntitited){const o=document.createElement(\"script\");f.apiLoadIntitited=!0,o.addEventListener(\"load\",(()=>{f.apiLoaded=!0,e(window.google)})),o.addEventListener(\"error\",(()=>{t(\"Failed to load the Google 3P Authorization JavaScript Library.\")})),o.src=s.library,o.async=!0,o.defer=!0,document.head.appendChild(o)}}else t(s.ssrError)})),w=e=>{f.apiLoadIntitited?f.apiLoaded?e(window.google):t((()=>f.apiLoaded),(t=>{t&&e(window.google)})):h().then((t=>{e(t)})).catch((e=>{throw e}))},m=(e,t,o,i)=>{if(!e.client_id)throw new Error(\"Prop client id required since plugin is not initialized with a client id\");w((()=>{((e,t,o,i,n)=>{if(n){const t=e.callback;e.callback=e=>{e.credential?t&&t(e):n(e)}}window.google.accounts.id.initialize(e);const l=t.value;l&&!i&&window.google.accounts.id.renderButton(l,o)})(e,t,o.buttonConfig,i,o.error),o.prompt&&y({clientId:o.clientId,callback:o.callback,error:o.error,autoLogin:o.autoLogin})}))},I=e=>new Promise(((t,o)=>{w((i=>{if(!(e&&e.clientId||g.clientId))throw new Error(\"clientId is required since the plugin is not initialized with a Client Id\");i.accounts.oauth2.initCodeClient({client_id:e&&e.clientId||g.clientId||\"\",scope:s.scopes,ux_mode:\"popup\",callback:e=>{e.code?t(e):o(e)},error_callback:e=>{o(e)}}).requestCode()}))})),_=e=>new Promise(((t,o)=>{w((i=>{if(!(e&&e.clientId||g.clientId))throw new Error(\"clientId is required since the plugin is not initialized with a Client Id\");i.accounts.oauth2.initTokenClient({client_id:e&&e.clientId||g.clientId||\"\",scope:s.scopes,callback:e=>{e.access_token?t(e):o(e)},error_callback:e=>{o(e)}}).requestAccessToken()}))})),y=e=>{if(!e&&(e={}),!e.clientId&&!g.clientId)throw new Error(\"clientId is required\");const t={use_fedcm_for_prompt:!0};return e.clientId&&(t.client_id=e.clientId),!e.clientId&&g.clientId&&(t.client_id=g.clientId),e.context&&(t.context=e.context),null!=e.autoLogin&&(t.auto_select=e.autoLogin),null!=e.cancelOnTapOutside&&(t.cancel_on_tap_outside=e.cancelOnTapOutside),new Promise(((o,i)=>{t.callback=t=>{e&&e.callback&&e.callback(t),t.credential?o(t):i(t)},w((e=>{e.accounts.id.initialize(t),e.accounts.id.prompt()}))}))},k=()=>{w((e=>{e.accounts.id.disableAutoSelect()}))};var C=o({__name:\"GoogleLogin\",props:{clientId:{type:String,required:!1},prompt:{type:Boolean,required:!1,default:!1},autoLogin:{type:Boolean,required:!1,default:!1},popupType:{type:String,required:!1},idConfiguration:{type:Object,required:!1},buttonConfig:{type:Object,required:!1},callback:{type:Function,required:!1},error:{type:Function,required:!1}},setup(e){if(!(\"undefined\"!=typeof window))throw new Error(s.ssrError);const t=!!i().default,o=e,u=((e,t)=>{const o={...e};for(const e in t)void 0!==t[e]&&null!==t[e]&&(o[e]=t[e]);return o})(g,o),f={client_id:u.clientId||null,auto_select:u.autoLogin||!1,callback:u.callback,...u.idConfiguration},b=n();return l((()=>{m(f,b,u,t),o.popupType&&!t&&console.warn(\"Option 'popupType' is ignored since a slot which act as a custom login button was not found!!!\")})),(e,o)=>(c(),r(\"div\",{class:\"g-btn-wrapper\",onClick:o[0]||(o[0]=e=>a(t)&&void(\"TOKEN\"===a(u).popupType?_({clientId:u.clientId}).then((e=>{u.callback&&u.callback(e)})).catch((e=>{u.error&&u.error(e)})):I({clientId:u.clientId}).then((e=>{u.callback&&u.callback(e)})).catch((e=>{u.error&&u.error(e)}))))},[a(t)?d(\"v-if\",!0):(c(),r(\"span\",{key:0,ref_key:\"buttonRef\",ref:b,class:\"g-btn\"},null,512)),p(e.$slots,\"default\")]))}});!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&\"undefined\"!=typeof document){var i=document.head||document.getElementsByTagName(\"head\")[0],n=document.createElement(\"style\");n.type=\"text/css\",\"top\"===o&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}(\"\\n.g-btn-wrapper[data-v-5e610566] {\\n  display: inline-block;\\n}\\n\"),C.__scopeId=\"data-v-5e610566\",C.__file=\"src/plugin/GoogleLogin.vue\";var L={install:(e,t)=>{t&&(e=>{e.clientId&&(g.clientId=e.clientId),e.popupType&&(g.popupType=e.popupType),null!=e.prompt&&(g.prompt=e.prompt),null!=e.autoLogin&&(g.autoLogin=e.autoLogin),e.idConfiguration&&(g.idConfiguration=e.idConfiguration),e.buttonConfig&&(g.buttonConfig=e.buttonConfig),e.callback&&(g.callback=e.callback)})(t),h().then((()=>{if(t.clientId){const e={client_id:t.clientId,auto_select:!0===t.autoLogin,callback:t.callback,use_fedcm_for_prompt:!0,...t.idConfiguration};window.google.accounts.id.initialize(e),t.prompt&&window.google.accounts.id.prompt()}})).catch((e=>{if(!t.error)throw e;t.error(e)})),e.component(\"GoogleLogin\",C)}};export{u as CallbackTypes,C as GoogleLogin,b as decodeCredential,L as default,I as googleAuthCodeLogin,k as googleLogout,y as googleOneTap,w as googleSdkLoaded,_ as googleTokenLogin};\n"],"mappings":"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"}